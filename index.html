<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stenoip Marketplace</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        :root { 
            --play-green: #01875f; 
            --text-dark: #202124; 
            --text-light: #5f6368; 
        }

        /* Applying Segoe UI Semilight across the app */
        body { 
            font-family: "Segoe UI Semilight", "Segoe UI", Tahoma, Helvetica, sans-serif; 
            margin: 0; 
            display: flex; 
            background: #fff; 
            color: var(--text-dark);
        }

        /* Sidebar */
        nav { 
            width: 280px; 
            height: 100vh; 
            border-right: 1px solid #dadce0; 
            position: fixed; 
            padding: 15px; 
            background: #fff; 
        }

        .logo { 
            font-size: 22px; 
            margin-bottom: 30px; 
            padding-left: 15px; 
            cursor: pointer; 
            display: flex; 
            align-items: center; 
            gap: 10px; 
            font-weight: 400; 
        }

        .menu-item { 
            display: flex; 
            align-items: center; 
            gap: 15px; 
            padding: 12px 20px; 
            border-radius: 25px; 
            cursor: pointer; 
            color: var(--text-light); 
            transition: 0.2s; 
            margin-bottom: 5px;
        }

        .menu-item:hover { background: #f1f3f4; }
        .menu-item.active { 
            background: #e6f3ef; 
            color: var(--play-green); 
            font-weight: 600; 
        }

        /* Main Area */
        main { margin-left: 280px; flex: 1; padding: 30px 50px; }
        .section-title { font-size: 24px; margin-bottom: 25px; font-weight: 300; }
        
        .app-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); 
            gap: 35px; 
        }

        /* App Cards */
        .card { cursor: pointer; transition: transform 0.2s; width: 160px; display: block; }
        .card.hidden { display: none; }
        .card:hover { transform: scale(1.03); }
        .card img { 
            width: 160px; 
            height: 160px; 
            border-radius: 32px; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.1); 
            margin-bottom: 10px; 
            background: #f8f9fa;
        }
        .card-title { font-size: 14px; margin: 0; }
        .card-dev { font-size: 12px; color: var(--text-light); margin: 4px 0; }

        #dynamic-container { animation: fadeIn 0.4s ease; }
        .hidden { display: none; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <nav>
        <div class="logo" onclick="showHome()">
            <span class="material-icons" style="color:var(--play-green)">play_arrow</span> Stenoip Marketplace
        </div>
        
        <div class="menu-item active" onclick="filterCategory('apps', this)">
            <span class="material-icons">widgets</span> Apps
        </div>
        
        <div class="menu-item" onclick="filterCategory('ringzauber', this)">
            <span class="material-icons">auto_fix_high</span> Ringzauber Add Ons
        </div>
        
        <div class="menu-item" onclick="filterCategory('miscellaneous', this)">
            <span class="material-icons">pest_control</span> Miscellaneous
        </div>
    </nav>

    <main>
        <div id="home-view">
            <h2 id="view-title" class="section-title">All Apps(Note this does not hvae downloadable apps yet)</h2>
            <div class="app-grid" id="main-grid">
                
                <div class="card" data-category="apps" onclick="loadApp('ringzauber.html')">
                    <img src="https://stenoip.github.io/ringzauber.ico">
                    <p class="card-title">Ringzauber Pro</p>
                    <p class="card-dev">Apps - Internet Browser</p>
                </div>

                <div class="card" data-category="ringzauber" onclick="loadApp('talking-praterich.html')">
                    <img src="https://stenoip.github.io/praterich/praterich.png">
                    <p class="card-title">My Talking Praterich</p>
                    <p class="card-dev">Ringzauber Add Ons</p>
                </div>

                <div class="card" data-category="miscellaneous" onclick="loadApp('debug.html')">
                    <img src="https://img.icons8.com/fluency/200/bug.png">
                    <p class="card-title">Debug Tool</p>
                    <p class="card-dev">Miscellaneous</p>
                </div>

            </div>
        </div>

        <div id="dynamic-container" class="hidden"></div>
    </main>

    <script>
        var home = document.getElementById('home-view');
        var grid = document.getElementById('main-grid');
        var container = document.getElementById('dynamic-container');
        var viewTitle = document.getElementById('view-title');
        var menuItems = document.getElementsByClassName('menu-item');
        var cards = document.getElementsByClassName('card');

        // FUNCTION: Switch between categories
        function filterCategory(cat, element) {
            // 1. Show Home View if we were in an App Profile
            showHome();

            // 2. Update Active Menu Style
            for (var i = 0; i < menuItems.length; i++) {
                menuItems[i].classList.remove('active');
            }
            element.classList.add('active');

            // 3. Update Title
            viewTitle.innerText = element.innerText;

            // 4. Filter Cards
            for (var j = 0; j < cards.length; j++) {
                var cardCat = cards[j].getAttribute('data-category');
                if (cat === 'all' || cardCat === cat) {
                    cards[j].classList.remove('hidden');
                } else {
                    cards[j].classList.add('hidden');
                }
            }
        }

        // FUNCTION: Load external HTML profile
        function loadApp(url) {
            fetch(url)
                .then(function(res) { return res.text(); })
                .then(function(data) {
                    home.classList.add('hidden');
                    container.innerHTML = data;
                    container.classList.remove('hidden');
                    window.scrollTo(0,0);
                })
                .catch(function(err) { 
                    alert("To load external HTML files, please run this through a server).");
                    console.error("Fetch failed", err); 
                });
        }

        function showHome() {
            home.classList.remove('hidden');
            container.classList.add('hidden');
            container.innerHTML = '';
        }
    </script>
</body>
</html>
